<?xml version="1.0" encoding="UTF-8"?>
<blueprint xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0">
    <bean id="forwardingRulesManagerImpl" class="org.opendaylight.openflowplugin.applications.frm.impl.ForwardingRulesManagerImpl" init-method="start" destroy-method="close">
        <argument ref="dataBroker"/>
        <argument ref="rpcConsumerRegistry"/>
        <argument ref="rpcProviderService"/>
        <argument ref="forwardingRulesManagerConfig"/>
        <argument ref="mastershipChangeServiceManager"/>
        <argument ref="clusterSingletonServiceProvider"/>
        <argument ref="configurationService"/>
        <argument ref="reconciliationManager"/>
        <argument ref="openflowServiceRecoveryHandlerImpl"/>
        <argument ref="serviceRecoveryRegistry"/>
        <argument ref="flowGroupCacheManager"/>
        <argument ref="listenerRegistrationHelper"/>
    </bean>
    <bean id="frmReconciliationServiceImpl" class="org.opendaylight.openflowplugin.applications.frm.impl.FrmReconciliationServiceImpl">
        <argument ref="forwardingRulesManagerImpl"/>
    </bean>
    <bean id="listenerRegistrationHelper" class="org.opendaylight.openflowplugin.applications.frm.impl.ListenerRegistrationHelper">
        <argument ref="dataBroker"/>
    </bean>
    <bean id="openflowServiceRecoveryHandlerImpl" class="org.opendaylight.openflowplugin.applications.frm.recovery.impl.OpenflowServiceRecoveryHandlerImpl">
        <argument ref="serviceRecoveryRegistry"/>
    </bean>
    <reference id="dataBroker" interface="org.opendaylight.mdsal.binding.api.DataBroker"/>
    <reference id="rpcConsumerRegistry" interface="org.opendaylight.mdsal.binding.api.RpcConsumerRegistry"/>
    <reference id="rpcProviderService" interface="org.opendaylight.mdsal.binding.api.RpcProviderService"/>
    <reference id="clusterSingletonServiceProvider" interface="org.opendaylight.mdsal.singleton.common.api.ClusterSingletonServiceProvider"/>
    <reference id="flowGroupCacheManager" interface="org.opendaylight.openflowplugin.api.openflow.FlowGroupCacheManager"/>
    <reference id="configurationService" interface="org.opendaylight.openflowplugin.api.openflow.configuration.ConfigurationService"/>
    <reference id="mastershipChangeServiceManager" interface="org.opendaylight.openflowplugin.api.openflow.mastership.MastershipChangeServiceManager"/>
    <reference id="reconciliationManager" interface="org.opendaylight.openflowplugin.applications.reconciliation.ReconciliationManager"/>
    <reference id="serviceRecoveryRegistry" interface="org.opendaylight.serviceutils.srm.ServiceRecoveryRegistry"/>
    <service ref="frmReconciliationServiceImpl" interface="org.opendaylight.yang.gen.v1.urn.opendaylight.params.xml.ns.yang.openflowplugin.app.frm.reconciliation.service.rev180227.FrmReconciliationService"/>
    <service ref="openflowServiceRecoveryHandlerImpl" interface="org.opendaylight.openflowplugin.applications.frm.recovery.OpenflowServiceRecoveryHandler"/>
</blueprint>
